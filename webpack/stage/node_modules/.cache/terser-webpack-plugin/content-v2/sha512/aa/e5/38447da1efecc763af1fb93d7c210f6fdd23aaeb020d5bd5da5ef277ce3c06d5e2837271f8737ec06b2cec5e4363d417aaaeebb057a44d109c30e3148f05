{"code":"!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){o(1),o(2),o(3),o(4),o(5),o(6),o(7),o(8),o(9),e.exports=o(10)},function(e,t){!function(){var e=[],t=\"\",o=\"\";if(localStorage.length>=1)for(var r=0;r<localStorage.length;r++){var n=localStorage.key(r),l=localStorage.getItem(n);null!=l&&(e[r]=JSON.parse(l))}setTimeout(function(){0==localStorage.length?(document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").style.display=\"none\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>.noCart\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>li\").style.display=\"none\"):(document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").style.display=\"block\",document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>.noCart\").style.display=\"none\");for(var r=0,n=0,l=0,i=0,c=0;c<e.length;c++)r+=e[c].productNb,n+=e[c].new_price,t+=\"<div>\",t+='<img src=\"'+e[c].imgUrl+'\" align=\"left\">',t+=\"<p>\"+e[c].productLn+\"</p>\",t+=\"<p>价格:￥\"+e[c].new_price,e[c].old_price>.01&&(t+='<span style=\"text-decoration:line-through;color:#555;margin-left:10px;\">￥31996.00</span>'),t+=\"</p>\",t+='<p>数量:<span class=\"number\">'+e[c].productNb+\"</span></p>\",t+=\"</div>\",null!=e[c].new_price&&null!=e[c].old_price?i+=JSON.parse(e[c].new_price):null!=e[c].new_price&&null==e[c].old_price&&(l+=JSON.parse(e[c].new_price));n=l>=1&&i>=1?(parseFloat(i)+parseFloat(l)).toFixed(2):i>=1&&l<=0?parseFloat(i).toFixed(2):parseFloat(l).toFixed(2),document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").innerHTML=e.length+\"件商品\",document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").innerHTML=r,$(\"shopping\").innerHTML+=t,o+=\"<span>总价:¥\"+n+\"</span>\",o+='<div id=\"goSt\">去结算</div>',document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>li>.cartNum\").innerHTML=o,document.querySelectorAll(\".drop_down-right>ul>li:nth-child(3) ul>li>div[id=shopping]>div\").length>3&&($(\"shopping\").style=\"height:170px;overflow-x:hidden\")},500)}()},function(e,t){!function(){var e=document.querySelector(\".cart-info\"),t=\"\",o=\"\",r=0;function n(){var e=[],t=\"\",o=\"\";if(localStorage.length>=1)for(var r=0;r<localStorage.length;r++){var n=localStorage.key(r),l=localStorage.getItem(n);null!=l&&(e[r]=JSON.parse(l))}setTimeout(function(){0==localStorage.length?(document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").style.display=\"none\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>.noCart\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>li\").style.display=\"none\"):(document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").style.display=\"block\",document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>.noCart\").style.display=\"none\");for(var r=0,n=0,l=0,i=0,c=0;c<e.length;c++)r+=e[c].productNb,n+=e[c].new_price,t+=\"<div>\",t+='<img src=\"'+e[c].imgUrl+'\" align=\"left\">',t+=\"<p>\"+e[c].productLn+\"</p>\",t+=\"<p>价格:￥\"+e[c].new_price,e[c].old_price>.01&&(t+='<span style=\"text-decoration:line-through;color:#555;margin-left:10px;\">￥31996.00</span>'),t+=\"</p>\",t+='<p>数量:<span class=\"number\">'+e[c].productNb+\"</span></p>\",t+=\"</div>\",null!=e[c].new_price&&null!=e[c].old_price?i+=JSON.parse(e[c].new_price):null!=e[c].new_price&&null==e[c].old_price&&(l+=JSON.parse(e[c].new_price));n=l>=1&&i>=1?(parseFloat(i)+parseFloat(l)).toFixed(2):i>=1&&l<=0?parseFloat(i).toFixed(2):parseFloat(l).toFixed(2),document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").innerHTML=e.length+\"件商品\",document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").innerHTML=r,$(\"shopping\").innerHTML=t,o+=\"<span>总价:¥\"+n+\"</span>\",o+='<div id=\"goSt\">去结算</div>',document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>li>.cartNum\").innerHTML=o;var a=document.querySelectorAll(\".drop_down-right>ul>li:nth-child(3) ul>li>div[id=shopping]>div\");a.length>3?$(\"shopping\").style=\"height:170px;overflow-x:hidden\":0==a.length&&(document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").style.display=\"none\")},500)}var l=[];if(localStorage.length>=1){document.querySelector(\".cart-noProduct\").style.display=\"none\",document.querySelector(\".cart-haveProduct\").style.display=\"block\";for(var i=0;i<localStorage.length;i++){var c=localStorage.key(i),a=localStorage.getItem(c);null!=a&&(l[i]=JSON.parse(a)),t+='<div class=\"cart-count\">',t+='<input type=\"checkbox\" checked>',t+='<div class=\"product-box\">',t+='<table class=\"'+c+'\">',t+=\"<tbody>\",t+=\"<tr>\",t+='<td style=\"width:14%\">',t+='<a href=\"\"><img src='+l[i].imgUrl+\"></a>\",t+=\"</td>\",t+='<td style=\"width:10%\">',t+=\"<p>\",t+='<a href=\"\">'+l[i].productLn+\"</a>\",t+=\"</p>\",t+='<p class=\"cmCode\">商品编码：Z26BD11</p>',t+=\"</td>\",t+='<td style=\"width:25%\">',null!=l[i].new_price&&null!=l[i].old_price?(t+='<span class=\"new_price\">¥'+l[i].new_price+\"</span>\",t+='<span class=\"old_price\">¥'+l[i].old_price+\"</span>\"):t+='<span class=\"new_price\">¥'+(l[i].new_price/l[i].productNb).toFixed(2)+\"</span>\",t+=\"</td>\",t+='<td style=\"width:20%\">',t+=\"<span>数量:</span>\",t+=\"<select>\",t+='<option value=\"'+l[i].productNb+'\">'+l[i].productNb+\"</option>\",t+=\"</select>\",t+=\"</td>\",t+='<td style=\"width:12%\">',t+=\"<span>¥\"+l[i].new_price+\"</span>\",t+=\"</td>\",t+='<td style=\"width:5%\">',t+='<img id=\"deleteProduct\" src=\"http://127.0.0.1:3000/images/shanchu.png\" alt=\"\">',t+=\"</td>\",t+=\"</tr>\",t+=\"</tbody>\",t+=\"</table>\",t+=\"</div>\",t+=\"</div>\"}e.innerHTML+=t,t=\"\"}function d(){var e=document.querySelectorAll(\".cart-info>.cart-count>input\");r=0;for(var t=0;t<e.length;t++)if(e[t].checked){var n=e[t].nextElementSibling.firstChild.firstChild.firstChild.childNodes[4].firstChild;r+=JSON.parse(n.innerHTML.split(\"¥\")[1])}var l=document.querySelectorAll(\".cart-info>.cart-count>input:checked\");o+='<div class=\"order-div\">',o+=\"<h2>订单概览</h2>\",o+='<p class=\"product-count\">'+l.length+\"件商品</p>\",o+='<div class=\"summary-info\">',o+=\"<p>\",o+=\"<span>商品小计</span>\",o+=\"<span>¥\"+r.toFixed(2)+\"</span>\",o+=\"</p>\",o+=\"<p>\",o+=\"<span>优惠</span>\",o+=\"<span>¥0.00</span>\",o+=\"</p>\",o+=\"</div>\",o+='<p class=\"order-price\">',o+=\"<span>应付金额</span>\",o+=\"<span>¥\"+r.toFixed(2)+\"</span>\",o+=\"</p>\",o+='<div class=\"button\">结算</div>',o+=\"</div>\",document.querySelector(\".cart-order\").innerHTML=o,o=\"\",r=0}d();var u=$(\"clearCheck\");u.onclick=function(){if(\"false\"==u.className)for(var e=0;e<s.length;e++)s[e].checked=!0,u.className=\"true\",u.innerHTML=\"取消全选\";else for(e=0;e<s.length;e++)s[e].checked=!1,u.className=\"false\",u.innerHTML=\"全选\";d()};var s=document.querySelectorAll(\".cart-info>.cart-count>input\");for(i=0;i<s.length;i++)s[i].onclick=function(){d();var e=document.querySelectorAll(\".cart-info>.cart-count\");document.querySelectorAll(\".cart-info>.cart-count>input:checked\").length==e.length?(u.className=\"true\",u.innerHTML=\"取消全选\"):(u.className=\"false\",u.innerHTML=\"全选\")};$(\"deleteCheck\").onclick=function(){var e=document.querySelectorAll(\".cart-info>.cart-count>input:not(:checked)\"),t=document.querySelectorAll(\".cart-info>.cart-count>input:checked\");if(0==t.length)alert(\"您未选中商品哦！\");else if(e.length>=0){if(confirm(\"您确认删除选中的商品吗？\"))for(var o=0;o<t.length;o++)localStorage.removeItem(t[o].nextElementSibling.childNodes[0].className),t[o].parentNode.parentNode.removeChild(t[o].parentNode),d(),n(),0==localStorage.length&&(document.querySelector(\".cart-noProduct\").style.display=\"block\",document.querySelector(\".cart-haveProduct\").style.display=\"none\")}};var p=document.querySelectorAll(\"#deleteProduct\");for(let e=0;e<p.length;e++)p[e].onclick=function(t){confirm(\"确认删除该商品吗?\")&&(localStorage.removeItem(t.target.parentNode.parentNode.parentNode.parentNode.className),p[e].parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.removeChild(p[e].parentNode.parentNode.parentNode.parentNode.parentNode.parentNode),d(),n(),0==localStorage.length&&(document.querySelector(\".cart-noProduct\").style.display=\"block\",document.querySelector(\".cart-haveProduct\").style.display=\"none\"))}}()},function(e,t){},function(e,t){!function(){var e=location.search.split(\"=\")[1],t=createXhr();t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var o=t.responseText;o=JSON.parse(o),document.querySelector(\".goods>.product>.product-left h3>a\").innerHTML=o[0].title_ify,document.querySelector(\".goods>.product>.product-left>h3\").innerHTML=o[0].title_ify+\" \"+o[0].jiaju_title;var r=\"\";r+='<div class=\"font\">',r+='<h3 class=\"detail-tit\">'+o[0].jiaju_ln+\"</h3>\",r+='<div class=\"detail-raty\">',r+='<div class=\"xingxing\">',r+='<div class=\"start-before\">★★★★★</div>',r+='<div class=\"end-before\">★★★★★</div>',r+=\"</div>\",r+='<div id=\"comment\">评价:',r+=\"<span>0</span>\",r+=\"</div>\",r+='<div class=\"detail-fy\">',r+='<a href=\"\" class=\"fenxiang\">',r+=\"</a>\",r+='<a href=\"\" class=\"shoucang\">',r+=\"</a>\",r+=\"</div>\",r+='<div class=\"product-color-item\">',-1!=o[0].jiaju_color.indexOf(\"#\")?(r+='<div class=\"item-color\" style=background:'+o[0].jiaju_color+\">\",r+=\"</div>\"):r+='<span class=\"color-ln\">'+o[0].jiaju_color+\"</span>\",r+='<span class=\"color-title\">颜色:</span>',r+=\"</div>\",r+='<div class=\"product-color-spec\">',r+=\"</div>\",r+='<div class=\"product-count\">',r+='<span class=\"productNumber\">数量:</span>',r+='<button id=\"product-minus\">-</button>',r+='<span id=\"product-number\">1</span>',r+='<button id=\"product-add\">+</button>',r+=\"</div>\",r+='<div class=\"price-info\">',o[0].jiaju_old.toFixed(2)>.01?(r+='<span style=\"float:left\">￥</span><h3>'+o[0].jiaju_old.toFixed(2)+\"</h3>\",r+='<span style=\"float:left\">￥</span><h4>'+o[0].jiaju_price.toFixed(2)+\"</h4>\"):0==o[0].jiaju_old.toFixed(2)&&(r+='<span style=\"float:left\">￥</span><h3>'+o[0].jiaju_price.toFixed(2)+\"</h3>\"),r+='<span class=\"pit\">优惠提醒',r+='<div class=\"product-phone\">',r+=\"<span>若商品在90日内享受促销优惠，我们将通过手机短信通知您。</span>\",r+='<i class=\"icon\"></i>',r+='<input type=\"text\" placeholder=\"请输入手机号\">',r+=\"<p>请输入手机号码</p>\",r+='<div class=\"button-pit\">优惠时通知我</div>',r+=\"</div>\",r+=\"</span>\",r+=\"</div>\",r+='<div class=\"product-notice\">',1==o[0].jiaju_newProduct&&(r+=\"<p>新品上市</p>\"),o[0].jiaju_old>=.01&&(r+=\"<p>优惠</p>\"),o[0].jiaju_old>=.01&&(r+=\"<p>超值</p>\"),r+=\"<p>限时</p>\",r+=\"</div>\",r+='<a href=\"\" id=\"adv_tag\">新的起点重新起航</a>',r+='<div class=\"add_button\">加入购物车</div>',r+=\"</div>\",r+=\"</div>\",document.querySelector(\".product>.product-right>.right-container\").innerHTML+=r;var n=$(\"product-add\"),l=$(\"product-number\"),i=$(\"product-minus\");n.onclick=function(){if(parseInt(l.innerHTML)>o[0].jiaju_stock)alert(\"对不起，库存不足\");else{l.innerHTML++;var e=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.product-count>#product-number\").innerHTML;o[0].jiaju_old.toFixed(2)>=.01?(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h3\").innerHTML=(e*o[0].jiaju_old).toFixed(2),document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h4\").innerHTML=(e*o[0].jiaju_price).toFixed(2)):0==o[0].jiaju_old.toFixed(2)&&(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h3\").innerHTML=(e*o[0].jiaju_price).toFixed(2))}};var c=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>.pit>.product-phone>input\");c.onblur=()=>{\"\"==c.value?(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>.pit>.product-phone>p\").style.display=\"block\",document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>.pit>.product-phone>input\").style=\"border-bottom:1px solid red\"):(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>.pit>.product-phone>p\").style.display=\"none\",document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>.pit>.product-phone>input\").style=\"border-bottom:1px solid #A9A9A9\")},i.onclick=function(){if(1!=l.innerHTML){l.innerHTML--;var e=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.product-count>#product-number\").innerHTML;o[0].jiaju_old.toFixed(2)>.01?(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h3\").innerHTML=(e*o[0].jiaju_old).toFixed(2),document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h4\").innerHTML=(e*o[0].jiaju_price).toFixed(2)):0==o[0].jiaju_old.toFixed(2)&&(document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h3\").innerHTML=(e*o[0].jiaju_price).toFixed(2))}},document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.xingxing>.end-before\").style.width=o[0].jiaju_score.toFixed(2)+\"%\";var a=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.add_button\"),d=(l=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.product-count>#product-number\"),\"\");a.onclick=function(){if(document.cookie||navigator.cookieEnabled){var t=document.querySelector(\".goods>.product>.product-left>h3\").innerHTML,o=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h3\").innerHTML,r=document.querySelector(\".product>.product-right>.right-container>.font>.detail-raty>.price-info>h4\"),n=$(\"product-number\").innerHTML,l=document.querySelector(\".footer_img>.shop_img>.shop_item:first-child>img\"),i=[],c=!1;document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul:nth-child(2)>.noCart\").style.display=\"none\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>.pr-number>span\").style.display=\"block\",document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").style.display=\"block\",document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>li\").style.display=\"block\";for(var a=0;a<localStorage.length;a++){var u=localStorage.key(a),s=localStorage.getItem(u);null!=(s=JSON.parse(s))&&(i[a]=s);var p=parseInt(u.split(\"t\")[1])}if(i.length>0){for(a=0;a<i.length;a++)i[a].productId==e&&(c=!0,i[a].new_price=(parseFloat(i[a].new_price)+parseFloat(o)).toFixed(2),null!=r&&(null==i[a].old_price?i[a].old_price=parseFloat(r.innerHTML).toFixed(2):i[a].old_price=(parseFloat(i[a].old_price)+parseFloat(r.innerHTML)).toFixed(2)),i[a].productNb=parseInt(i[a].productNb)+parseInt(n),window.localStorage.setItem(\"product\"+a,JSON.stringify(i[a])));if(!c){var h={productId:parseInt(e),productLn:t,imgUrl:l.src,new_price:parseFloat(o).toFixed(2),productNb:parseInt(n)};null!=r&&(h.old_price=parseFloat(r.innerHTML).toFixed(2)),i.push(h),p++,window.localStorage.setItem(\"product\"+p,JSON.stringify(h))}}else{var g={productId:parseInt(e),productLn:t,imgUrl:l.src,new_price:parseFloat(o).toFixed(2),productNb:parseInt(n)};null!=r&&(g.old_price=parseFloat(r.innerHTML).toFixed(2)),null==i[0]&&(i[0]=g,window.localStorage.setItem(\"product0\",JSON.stringify(g)))}o=0,r=0,n=0;var y=0,m=document.querySelector(\".center>.drop_down-right>ul>li:nth-child(3)>ul>li>.cartNum\");m.innerHTML=\"\",$(\"shopping\").innerHTML=\"\";for(a=0;a<i.length;a++)n+=i[a].productNb,d+=\"<div>\",d+='<img src=\"'+i[a].imgUrl+'\" align=\"left\">',d+=\"<p>\"+i[a].productLn+\"</p>\",null!=i[a].old_price?d+=\"<p>价格:￥\"+i[a].new_price+'<span style=\"text-decoration:line-through;color:#555;margin-left:10px;\">￥'+i[a].old_price+\"</span></p>\":d+=\"<p>价格:￥\"+i[a].new_price+\"</p>\",d+='<p>数量:<span class=\"number\">'+i[a].productNb+\"</span></p>\",d+=\"</div>\",null!=i[a].new_price&&null!=i[a].old_price?o+=JSON.parse(i[a].new_price):null!=i[a].new_price&&null==i[a].old_price&&(r+=JSON.parse(i[a].new_price));document.querySelector(\".Nav>.container>.center>.drop_down-right>ul>li>.cart>.cartNumber\").innerHTML=n,y=r>=1&&o>=1?(parseFloat(o)+parseFloat(r)).toFixed(2):o>=1&&r<=0?parseFloat(o).toFixed(2):parseFloat(r).toFixed(2),m.innerHTML+=\"<span>总价:¥\"+y+\"</span>\",m.innerHTML+='<div id=\"onCart\">去结算</div></div>',document.querySelector(\".drop_down-right>ul>li:nth-child(3) ul>li>#shopping\").innerHTML+=d,d=\"\";var f=document.querySelectorAll(\".drop_down-right>ul>li:nth-child(3) ul>li>div[id=shopping]>div\");document.querySelector(\".drop_down-right>ul>li:nth-child(3) ul>.pr-number>span\").innerHTML=f.length+\"件商品\"}else alert(\"您的电脑可能未开启本地存储\");$(\"onCart\").onclick=function(){window.open(\"http://127.0.0.1:3000/cart.html\")}}}},t.open(\"get\",\"http://127.0.0.1:3000/detail/shopping?jiaju_id=\"+e,!0),t.send(null);var o=createXhr();o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText,t=\"\",r=(e=JSON.parse(e))[0].img_big;document.querySelector(\"#addpic>.focus\").onmouseover=function(){$(\"picbox\").style.display=\"block\"},document.querySelector(\"#addpic>.focus\").onmouseout=function(){$(\"picbox\").style.display=\"none\"},document.querySelector(\"#picbox>img\").src=r;for(var n=0;n<e.length;n++)t+='<a href=\"\" data-id=img'+n+' class=\"shop_item'+(0==n?' active\"':'\"')+'data-toggle=\"hover\" >',t+='<img src=\"'+e[n].img_sm+'\"></a>',r+='<img src=\"'+e[n].img_big+'\" id=\"img'+n+'\" style=\"display:'+(0==n?\"block\":\"none\")+'\">';document.querySelector(\"#addpic>.focus>.data-img\").innerHTML+=r,document.querySelector(\".footer_img>.shop_img\").innerHTML+=t;var l=document.querySelectorAll(\"[data-toggle=hover]\");for(var i of l)i.onmouseover=function(){for(var e of l)e.className=e.className.replace(\"active\",\"\");-1==(e=this).className.indexOf(\"active\")&&(e.className+=\" active\");var t=e.getAttribute(\"data-id\"),o=document.getElementById(t),r=document.querySelectorAll(\"[id^=img]\");for(var n of r)o!=n&&(n.style.display=\"none\");o.style.display=\"block\",document.querySelector(\"#picbox>img\").src=o.src}}},o.open(\"get\",\"http://127.0.0.1:3000/detail/product_img?productImgId=\"+e,!0),o.send(null)}();var o=document.getElementById(\"addpic\"),r=document.getElementById(\"tool\"),n=document.getElementById(\"picbox\"),l=n.getElementsByTagName(\"img\")[0];o.onmouseover=function(){n.style.display=\"block\",r.style.display=\"block\"},o.onmouseout=function(){n.style.display=\"none\",r.style.display=\"none\"},o.onmousemove=function(e){var t=(e=e||window.event).clientX-o.offsetLeft-r.offsetWidth/2,i=e.clientY-o.offsetTop-r.offsetHeight/2;t<=0?t=0:t>=o.offsetWidth-r.offsetWidth&&(t=o.offsetWidth-r.offsetWidth),i<=0?i=0:i>=o.offsetHeight-r.offsetHeight&&(i=o.offsetHeight-r.offsetHeight),r.style.left=t+\"px\",r.style.top=i+\"px\",l.style.left=t/(o.offsetWidth-r.offsetWidth)*(n.offsetWidth-l.offsetWidth)+\"px\",l.style.top=i/(o.offsetHeight-r.offsetHeight)*(n.offsetHeight-l.offsetHeight)+\"px\"}},function(e,t){!function(){var e=document.querySelector(\"head\"),t=document.createElement(\"LINK\");t.rel=\"stylesheet\",t.href=\"./CSS/footer.css\",e.appendChild(t);var o=createXhr();o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText;document.querySelector(\".footer\").innerHTML=e;var t=document.querySelectorAll(\".footer-top>a>img\");t[0].onmouseover=function(){t[0].src=\"http://127.0.0.1:3000/images/footer_bg1-1.jpg\"},t[0].onmouseout=function(){t[0].src=\"http://127.0.0.1:3000/images/footer_bg1.jpg\"},t[1].onmouseover=function(){t[1].src=\"http://127.0.0.1:3000/images/footer_bg2-1.jpg\"},t[1].onmouseout=function(){t[1].src=\"http://127.0.0.1:3000/images/footer_bg2.jpg\"},t[2].onmouseover=function(){t[2].src=\"http://127.0.0.1:3000/images/footer_bg3-1.jpg\"},t[2].onmouseout=function(){t[2].src=\"http://127.0.0.1:3000/images/footer_bg3.jpg\"}}},o.open(\"get\",\"footer.html\",!0),o.send(null)}()},function(e,t){!function(){var e=document.querySelector(\".banner\"),t=e.getElementsByTagName(\"img\"),o=document.getElementsByTagName(\"ul\")[0].getElementsByTagName(\"li\"),r=document.getElementsByTagName(\"div\")[1].getElementsByTagName(\"div\")[1],n=document.getElementsByTagName(\"div\")[1].getElementsByTagName(\"div\")[0],l=t.length,i=0;function c(){i=++i==l?0:i;for(var e=0;e<l;e++)t[e].style.display=\"none\";t[i].style.display=\"block\";for(e=0;e<o.length;e++)o[e].style.backgroundColor=\"#fff\";o[i].style.backgroundColor=\"rgb(43, 255, 0)\"}var a=setInterval(c,3500);e.onmouseover=function(){clearInterval(a),r.style.display=\"block\",n.style.display=\"block\"},e.onmouseleave=function(){a=setInterval(c,3500),r.style.display=\"none\",n.style.display=\"none\"};for(var d=0;d<l;d++)o[d].index=d,o[d].onmouseenter=function(){for(var e=0;e<l;e++)o[e].style.background=\"#fff\",t[e].style.display=\"none\";this.style.background=\"rgb(43, 255, 0)\",t[this.index].style.display=\"block\"};r.onclick=function(){c()},n.onclick=function(){!function(){i=-1==--i?2:i;for(var e=0;e<l;e++)t[e].style.display=\"none\";for(t[i].style.display=\"block\",e=0;e<o.length;e++)o[e].style.backgroundColor=\"#fff\";o[i].style.backgroundColor=\"rgb(43, 255, 0)\"}()};var u=document.querySelectorAll(\"#tab>[data-toggle=tab]\");!function(){for(var e of u)e.onclick=function(){var e=document.querySelectorAll(\"#tab>span\");for(var t of e)t.className=\"tab_item\";this.className+=\" active\";var o=this.getAttribute(\"data-id\"),r=document.querySelector(o),n=document.querySelectorAll(\".tab-container>ul\");for(var l of n)l.style.display=\"none\";r.style.display=\"block\"}}()}()},function(e,t){!function(){function e(e,t){document.querySelector(e).innerHTML=t}function t(e){document.querySelector(e).style=\"border-bottom:1px solid red\"}function o(e,t){document.querySelector(e).style=\"border-bottom:1px solid #7adfa9\",document.querySelector(t).innerHTML=\"\"}var r=!1,n=/^[1][3,4,5,7,8][0-9]{9}$/,l=/^[0-9a-zA-Z]{4}$/,i=document.querySelector(\"#login_phone\");i.onblur=()=>{var l=i.value;if(\"\"==l?(e(\"#zhPhone\",\"手机号不能为空\"),t(\"#login_phone\"),r=!1):11==l.length&&n.test(l)?(o(\"#login_phone\",\"#zhPhone\"),r=!0):(e(\"#zhPhone\",\"手机号格式错误\"),t(\"#login_phone\"),r=!1),r){var c=createXhr();c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){var n=c.responseText;1==JSON.parse(n).code?o(\"#login_phone\",\"#zhPhone\"):(e(\"#zhPhone\",\"该手机号未被注册\"),t(\"#login_phone\"),r=!1)}},c.open(\"get\",\"http://127.0.0.1:3000/login/login_phone?user_phone=\"+l,!0),c.send(null)}};var c=!1,a=document.querySelector(\"#login_upwd\");a.onblur=()=>{var r=a.value;\"\"==r?(e(\"#zhUpwd\",\"密码不能为空\"),t(\"#login_upwd\"),c=!1):/^[0-9a-zA-Z]\\w{5,20}/.test(r)?(o(\"#login_upwd\",\"#zhUpwd\"),c=!0):(e(\"#zhUpwd\",\"密码必须由6-20位大小写字母,数字或下划线组成\"),t(\"#login_upwd\"),c=!1)};document.querySelector(\"#Message\").onclick=()=>{var r=document.querySelector(\"#loginMessage_phone\").value,i=document.querySelector(\"#loginMessage_yzm\").value;\"\"==r?(e(\"#messagePhone\",\"手机号不能为空\"),t(\"#loginMessage_phone\"),!1):n.test(r)?(o(\"#loginMessage_phone\",\"#messagePhone\"),!0):(e(\"#messagePhone\",\"手机号格式错误\"),t(\"#loginMessage_phone\"),!1),\"\"==i?(e(\"#messageYzm\",\"请输入验证码\"),t(\"#loginMessage_yzm\"),!1):l.test(i)&&4==i.length?(o(\"#loginMessage_yzm\",\"#messageYzm\"),!0):(e(\"#messageYzm\",\"验证码格式错误,请检查\"),t(\"#loginMessage_yzm\"),!1)},document.querySelector(\"#login_button\").onclick=()=>{var o=document.querySelector(\"#login_phone\").value,r=document.querySelector(\"#login_upwd\").value;if(\"\"==r&&(e(\"#zhUpwd\",\"密码不能为空\"),t(\"#login_upwd\"),c=!1),c){var n=createXhr();n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var o=n.responseText;JSON.parse(o).login_upwd==r?alert(\"登录成功\"):(e(\"#zhUpwd\",\"密码错误，请重新填写\"),t(\"#login_upwd\"),c=!1)}},n.open(\"get\",\"http://127.0.0.1:3000/login/login_upwd?user_upwd=\"+r+\"&user_phone=\"+o,!0),n.send(null)}};var d=document.querySelectorAll(\"#login>span\");function u(e,t,o,r,n){d[e].onclick=function(e){e.preventDefault(),$(t).style.display=\"block\",$(o).style.display=\"none\",$(r).style=\"border-bottom:2px solid rgb(94,223,154);color:#505050\",$(n).style=\"border:none;color:#bebebe\"}}u(0,\"login-zh\",\"login-dx\",\"zh\",\"dx\"),u(1,\"login-dx\",\"login-zh\",\"dx\",\"zh\");var s=document.querySelectorAll(\".Reg\");for(var p in s)p>0?s[p].onclick=function(){document.querySelector(\".reg_top\").style.display=\"block\",$(\"reg\").style.display=\"block\",document.querySelector(\".login_top\").style.display=\"none\",$(\"login\").style.display=\"none\",$(\"reg_phone\").value=\"\",$(\"reg_phone\").focus(),o(\"#reg_phone\",\"#showPhone\"),$(\"reg_cpwd\").value=\"\",o(\"#reg_cpwd\",\"#showCpwd\"),$(\"reg_upwd\").value=\"\",o(\"#reg_upwd\",\"#showUpwd\"),$(\"reg_yzm\").value=\"\",o(\"#reg_yzm\",\"#showYzm\"),$(\"reg_yzm2\").value=\"\",o(\"#reg_yzm2\",\"#showYzm2\")}:0==p&&(s[p].onclick=function(){document.querySelector(\".reg_top\").style.display=\"none\",$(\"reg\").style.display=\"none\",document.querySelector(\".login_top\").style.display=\"block\",$(\"login\").style.display=\"block\",$(\"login_phone\").value=\"\",i.focus(),o(\"#login_phone\",\"#zhPhone\"),$(\"login_upwd\").value=\"\",o(\"#login_upwd\",\"#zhUpwd\")})}()},function(e,t){!function(){var e=document.querySelector(\"head\"),t=document.createElement(\"LINK\");t.rel=\"stylesheet\",t.href=\"./CSS/nav.css\",e.appendChild(t);var o=createXhr();o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText;document.querySelector(\".Nav\").innerHTML=e;var t=document.querySelector(\".search\"),r=document.querySelector(\".drop_down-right>ul>li:first-child>a\"),n=document.querySelector(\".search>.searchText>.input>input\");r.onclick=function(){t.style=\"display:block;top:-30px\",n.focus(),document.querySelector(\"#fade\").style.display=\"block\",n.onblur=function(){document.querySelector(\".search>.searchText>div:nth-child(2)\").style.display=\"none\",t.style.height=\"300px\"},n.onfocus=function(){document.querySelector(\".search>.searchText>div:nth-child(2)\").style.display=\"block\",t.style.height=\"390px\"}},document.querySelector(\".search>div>img:first-child\").onclick=function(){t.style=\"display:none\",document.querySelector(\"#fade\").style.display=\"none\"};var l=document.querySelector(\".container\"),i=document.querySelector(\".notice\").offsetHeight;window.onscroll=function(){document.documentElement.scrollTop>=i?(l.style.position=\"fixed\",document.querySelector(\".notice\").style.display=\"none\"):(l.style.position=\"staic\",document.querySelector(\".notice\").style.display=\"block\");var e=document.documentElement.scrollLeft,t=document.querySelector(\".container\");t.style.left=e>=1?-e+\"px\":e+\"px\"};var c=createXhr();c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){for(var e=c.responseText,t=JSON.parse(e),o=\"\",r=0;r<t.length;r++)o+=\"<li>\",o+='<a href=\"\">'+t[r].notice+\"</a>\",o+=\"</li>\";$(\"noticeText-left\").innerHTML=o,o=\"\"}},c.open(\"get\",\"http://127.0.0.1:3000/notice/notice\",!0),c.send(null),setTimeout(function(){var e=document.querySelector(\".notice>div:first-child>#noticeText-left>li\"),t=document.querySelectorAll(\".notice>div:first-child>#noticeText-left>li\");if(t.length>1){var o=0,r=!1;setInterval(()=>{o==t.length*e.offsetHeight-e.offsetHeight&&(r=!0),0==o&&(r=!1),r?(e.style=\"transition:all 2s linear\",o-=e.offsetHeight,e.style.marginTop=-o+\"px\"):(e.style=\"transition:all 2s linear\",o+=e.offsetHeight,e.style.marginTop=-o+\"px\")},5930)}},70)}},o.open(\"get\",\"nav.html\",!0),o.send(null)}()},function(e,t){!function(){var e=document.querySelectorAll(\"#click\");for(var t of e)t.onclick=function(){var e=this.nextElementSibling.style;1==e.display||\"-\"==this.innerHTML?(this.innerHTML=\"+\",e.display=\"none\"):(this.innerHTML=\"-\",e.display=\"block\")};var o=document.querySelector(\".orderList\"),r=$(\"orderListSelect\");o.onclick=function(){\"block\"==r.style.display?r.style=\"display:none\":r.style=\"transition:all 2s linear 3s;display:block;\"};var n=createXhr();n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=n.responseText,t=JSON.parse(e),o=\"\";$(\"product_nb\").innerHTML=\"家具(\"+t.length+\")\";for(var r=0;r<t.length;r++){if(1==t[r].jiaju_newProduct){var l=new Date(t[r].jiaju_newTime);l=Date.parse(l);var i=new Date;if(i=Date.parse(i),parseInt((i-l)/864e5)>30){console.log(parseInt((i-l)/864e5));var c=t[r].jiaju_id,a=createXhr();a.onreadystatechange=function(){},a.open(\"get\",\"http://127.0.0.1:3000/product/revise?jiaju_id=\"+c+\"&jiaju_newProduct=0\"),a.send(null)}}0==t[r].jiaju_old?(o+=\"<li>\",o+='<div class=\"img\"><img src=\"http://127.0.0.1:3000/images/dz.png\" alt=\"\"></div>',o+='<a href=\"http://127.0.0.1:3000/detail.html?jiaju_id='+t[r].jiaju_id+'\">',o+='<img src=\"'+t[r].jiaju_img+'\" alt=\"\" class=\"product-img\">',1==t[r].jiaju_newProduct?o+='<img src=\"http://127.0.0.1:3000/images/xptg.jpg\" style=\"display:block\" alt=\"\" class=\"new-product\">':0==t[r].jiaju_newProduct&&(o+='<img src=\"http://127.0.0.1:3000/images/xptg.jpg\" alt=\"\" class=\"new-product\">'),o+='<div class=\"price-pt\">',o+='<p class=\"product-pt-title\">'+t[r].title_ify+\"</p>\",o+='<p class=\"product-pt-ln\">'+t[r].title_ify+\" \"+t[r].jiaju_title+\"</p></div>\",o+='<p class=\"price\">',o+='<span class=\"old\">￥'+t[r].jiaju_price.toFixed(2)+\"</span></p></a></li>\"):(t[r].jiaju_old>=.01||0==t[r].jiaju_newProduct)&&(o+='<li><div class=\"img\"><img src=\"http://127.0.0.1:3000/images/dz.png\" alt=\"\"></div>',o+='<a href=\"http://127.0.0.1:3000/detail.html?jiaju_id='+t[r].jiaju_id+'\">',o+='<img src=\"'+t[r].jiaju_img+'\" alt=\"\" class=\"product-img\">',1==t[r].jiaju_newProduct?o+='<img src=\"http://127.0.0.1:3000/images/xptg.jpg\" style=\"display:block\" alt=\"\" class=\"new-product\">':0==t[r].jiaju_newProduct&&(o+='<img src=\"http://127.0.0.1:3000/images/xptg.jpg\" alt=\"\" class=\"new-product\">'),o+='<div class=\"price-dz\" style=\"display:block;\">',o+='<p class=\"product-dz-title\">'+t[r].title_ify+\" \"+t[r].jiaju_title+\"</p>\",o+='<p class=\"product-dz-ln\">',o+='<span class=\"dz-price\">到手价</span>',o+='<span class=\"dz-old\">￥'+t[r].jiaju_old.toFixed(2)+\"</span>\",o+='<span class=\"discount\">￥'+t[r].jiaju_price.toFixed(2)+\"</span></p>\",o+=\"</div>\",o+='<p class=\"price\">',o+='<span class=\"old\">￥'+t[r].jiaju_old.toFixed(2)+\"</span></p>\")}$(\"jiaju\").innerHTML+=o}},n.open(\"get\",\"http://127.0.0.1:3000/product/jiaju\",!0),n.send(null)}()},function(e,t){!function(){function e(e,t){document.querySelector(e).innerHTML=t}function t(e){document.querySelector(e).style=\"border-bottom:1px solid red\"}function o(e,t){document.querySelector(e).style=\"border-bottom:1px solid #7adfa9\",document.querySelector(t).innerHTML=\"\"}var r=/^[1][3,4,5,7,8][0-9]{9}$/,n=/^[0-9a-zA-Z]{4}$/,l=document.querySelector(\"#reg_phone\");l.onblur=()=>{var n=l.value;if(\"\"==n?(e(\"#showPhone\",\"手机号不能为空\"),t(\"#reg_phone\"),regP=!1):11==n.length&&r.test(n)?(o(\"#reg_phone\",\"#zhPhone\"),regP=!0):(e(\"#showPhone\",\"手机号格式错误\"),t(\"#reg_phone\"),regP=!1),regP){var i=createXhr();i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var r=i.responseText;0==JSON.parse(r).code?(o(\"#reg_phone\",\"#showPhone\"),loginP=!0):(e(\"#showPhone\",\"该手机号已经被注册啦\"),t(\"#reg_phone\"),regP=!1)}},i.open(\"get\",\"http://127.0.0.1:3000/reg/reg_phone?user_phone=\"+n,!0),i.send(null)}};var i=document.querySelector(\"#reg_cpwd\"),c=!1;i.onblur=function(){var r=i.value,n=d.value;\"\"==r?(e(\"#showCpwd\",\"请输入密码\"),t(\"#reg_cpwd\"),c=!1):/^\\w{5,20}$/.test(r)?\"\"!=n&&r!=n?(e(\"#showCpwd\",\"请输入一致密码\"),t(\"#reg_upwd\"),t(\"#reg_cpwd\"),c=!1,a=!1):r==n&&(o(\"#reg_cpwd\",\"#showCpwd\"),o(\"#reg_upwd\",\"#showUpwd\"),c=!0,a=!0):(e(\"#showCpwd\",\"密码必须由6-20位大小写字母,数字或下划线组成\"),t(\"#reg_cpwd\"),c=!1)};var a=!1,d=document.querySelector(\"#reg_upwd\");d.onblur=function(){var r=d.value,n=i.value;\"\"==r?(e(\"#showUpwd\",\"请输入确认密码\"),t(\"#reg_upwd\")):/^\\w{5,20}$/.test(r)?\"\"!=n&&r!=n?(e(\"#showUpwd\",\"密码不一致\"),t(\"#reg_upwd\"),t(\"#reg_cpwd\"),c=!1,a=!1):r==n&&(o(\"#reg_cpwd\",\"#showCpwd\"),o(\"#reg_upwd\",\"#showUpwd\"),c=!0,a=!0):(t(\"#reg_upwd\"),a=!1)};var u,s=!1,p=document.querySelector(\"#reg_yzm\");p.onblur=function(){var r=p.value;\"\"==r?(e(\"#showYzm\",\"请输入验证码\"),t(\"#reg_yzm\"),s=!1):n.test(r)&&4==r.length?(o(\"#reg_yzm\",\"#showYzm\"),s=!0):(e(\"#showYzm\",\"验证码错误\"),t(\"#reg_yzm\"),s=!1)};var h=document.querySelector(\"#reg_yzm2\");h.onblur=function(){var r=h.value;\"\"==r?(e(\"#showYzm2\",\"请输入验证码\"),t(\"#reg_yzm2\"),u=!1):n.test(r)&&4==r.length?(o(\"#reg_yzm2\",\"#showYzm2\"),u=!0):(e(\"#showYzm2\",\"验证码错误\"),t(\"#reg_yzm2\"),u=!1)},document.querySelector(\"#REG\").onclick=function(){if(1==document.querySelector(\".reg_top>#reg>.protocol>input:first-child\").checked)if(document.querySelector(\".reg_top>div:first-child\").className=\"checked\",1==regP&&1==a&&1==c&&1==s&&1==u){var e=createXhr();e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=e.responseText;1==JSON.parse(t).code&&(alert(\"注册成功\"),location.href=\"http://127.0.0.1:3000/reg.html\")}},e.open(\"post\",\"http://127.0.0.1:3000/reg/Reg\",!0),e.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");var t=\"user_phone=\"+l.value+\"&user_upwd=\"+d.value;e.send(t)}else alert(\"请认真填写注册信息\");else document.querySelector(\".reg_top>.checked\").className=\"not-checked\"}}()}]);","extractedComments":[]}